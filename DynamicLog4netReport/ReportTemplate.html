<!DOCTYPE html>
<html>
<head>
	<title>Report Template</title>
	<meta charset="UTF-8">

	<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/prop-types/15.6.1/prop-types.js"></script>

	<script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
	<script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.21.1/babel.min.js"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/redux/4.0.0/redux.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/react-redux/5.0.7/react-redux.min.js"></script>

	<script type="text/babel">
		const levelToColor = {
			debug: 'gray',
			pass: 'limegreen',
			info: 'lightskyblue',
			failskip: 'gold',
			warn: 'coral',
			retry: 'greenyellow',
			fail: 'red',
		};
	</script>

	<style>
	*
	{
		font-family: Helvetica, Arial, sans-serif;
	}

	label
	{
		color: DimGray;
	}

	a:link
	{
		color: DimGray;
		background-color: transparent;
		text-decoration: none;
	}

	a:visited
	{
		color: DimGray;
	}

	.crossedOut {
		text-decoration: line-through !important;
	}

	/* Styles for statuses (Fail, Pass, Info etc). */
	tr.retry > td.summaryStatus > span, tr.fail > td.summaryStatus > span, tr.pass > td.summaryStatus > span, tr.info > td.summaryStatus > span, tr.warn > td.summaryStatus > span, tr.failskip > td.summaryStatus > span, tr.debug > td.summaryStatus > span,
	tr.retry > td.statusCol > span,     tr.fail > td.statusCol > span,     tr.pass > td.statusCol > span,     tr.info > td.statusCol > span,     tr.warn > td.statusCol > span,     tr.failskip > td.statusCol > span,     tr.debug > td.statusCol > span
	{
		color: White;
		float: left;
		width: 65px;
		padding: 2px 5px;
		margin: 2px;
		-moz-border-radius: 5px;
		border-radius: 5px;
	}

	.statusDebug, .statusdebug { color: gray !important; }
	.statusPass, .statuspass { color: limegreen !important; }
	.statusInfo, .statusinfo { color: lightskyblue !important; }
	.statusFailSkip, .statusfailskip { color: gold !important; }
	.statusWarn, .statuswarn { color: coral !important; }
	.statusRetry, .statusretry { color: GreenYellow !important; }
	.statusFail, .statusfail { color: red !important; }

	tr.debug > td.summaryStatus > span, tr.debug > td.statusCol > span
	{
		background-color: gray;
		text-align: center;
	}

	tr.pass > td.summaryStatus > span, tr.pass > td.statusCol > span
	{
		background-color: limegreen;
		text-align: center;
	}

	tr.retry > td.summaryStatus > span, tr.retry > td.statusCol > span
	{
		background-color: GreenYellow;
		text-align: center;
	}

	tr.fail > td.summaryStatus > span, tr.fail > td.statusCol > span
	{
		background-color: red;
		text-align: center;
	}

	tr.failskip > td.summaryStatus > span, tr.failskip > td.statusCol > span
	{
		background-color: gold;
		text-align: center;
	}

	tr.info > td.summaryStatus > span, tr.info > td.statusCol > span
	{
		background-color: lightskyblue;
		text-align: center;
	}

	tr.warn > td.summaryStatus > span, tr.warn > td.statusCol > span
	{
		background-color: coral;
		text-align: center;
	}

	table.summary
	{
		border-collapse: separate;
		border-spacing: 0px 3px;
		font-size: 12pt;
		width: 100%;
		margin-top: 10px;
	}

	tr.summaryRow
	{
		background-color: #efeeee;
		cursor: pointer;
		padding-top: 10px;
		border-collapse: collapse;
	}
	tr.summaryRow td:first-child { border-top-left-radius:  8px; border-bottom-left-radius:  8px;   border-left: 1px solid gray; }
	tr.summaryRow td:last-child  { border-top-right-radius: 8px; border-bottom-right-radius: 8px; border-right: 1px solid gray;}

		tr.summaryRow > td
		{
			border-top: 1px solid gray;
			border-bottom: 1px solid gray;
			padding: 3px;
			white-space: nowrap;
		}

	.summaryDetailsRow > td
	{
		padding: 0;
	}

	.summaryDetailsRow > td:last-child {
		padding-right: 5px;
	}

	.square
	{
		border: 1px solid limegreen;
		float: left;
		width: 6px;
		height: 6px;
		background-color: limegreen;
		margin: 2px;
		-moz-border-radius: 6px;
		border-radius: 6px;
	}

	.debug .square {
		background-color: gray !important;
		border-color: gray !important;
	}

	.pass .square {
		background-color: limegreen !important;
		border-color: limegreen !important;
	}

	.retry .square {
		background-color: GreenYellow !important;
		border-color: GreenYellow !important;
	}

	.fail .square {
		background-color: red !important;
		border-color: red !important;
	}

	.failskip .square {
		background-color: gold !important;
		border-color: gold !important;
	}

	.info .square {
		background-color: lightskyblue !important;
		border-color: lightskyblue !important;
	}

	.warn .square {
		background-color: coral !important;
		border-color: coral !important;
	}


	table.details
	{
		border-collapse: collapse;
		font-size: 12pt;
		margin-bottom: 20px;
		width: 100%;
	}

		table.details > tbody > tr > td
		{
			border: 1px solid gray;
			padding: 3px;
		}

	tr.detailsHeaderRow
	{
		font-weight: bold;
	}

		tr.detailsHeaderRow > td
		{
			border-top: none !important;
		}

	tr.header > td
	{
		font-family: Helvetica, Arial, sans-serif;
		border-top: none !important;
	}

	td.summaryStatus
	{
		font-weight: bold;
		width: 80px;
	}

	td.summaryTestName
	{
		font-weight: normal;
	}

	td.summaryStart
	{
		width: 70px;
	}

	td.summaryEnd
	{
		width: 70px;
	}

	td.summaryDuration
	{
		width: 140px;
	}

	td.timeCol
	{
		width: 70px;
	}

	td.statusCol
	{
		width: 80px;
	}

	tr.detailsExceptionRow > td > div, .detailsException
	{
		font-family: monospace;
		white-space: pre-wrap;
		max-height: 20em;
		overflow: scroll;
	}

	a.screenshot {
		float: left; margin-right: 5px;
	}

	.pageNavigation {
		color: RGB(0,154,250)
	}

	.exceptionCol {
		font-size: 85%;
	}

	span.screenshotIcon::before {
		content: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAASiSURBVHja7FVrTFNnGH6Qci8wgVkZFCql1FIEcZLJRAaMbQzGVSQmm9zqXDbHAJclWzIQyGLCzKTqEmFjYTMaJ8yAIXFIELIlKlCgBbmIxVHYqlAL5SL00Avdd/CwuWQX+MG/fSdPzu19n/f93ttnZbFYsJFrEzZ4bbgBq3VrSPChl49LkfrO3GfQog3bsB/LsIYBaozgKmR4SKSMBJb1GZAgV8B3LxEHcLmZIfkorCvUWxzIZQtQZhP0RiMW1caFZaXlJBpxjmhME5is1kIcJOCUhAp53KTALHg7B6BmUApba0fsF+TAkeUMMykULzYXx24X4kpbPdCCIrKTGqI9wfoX4hh/763ScLFgR0ZoJjyd+Wi8fx49mtvIFH0AxUMFck/l6sblk4+snrHY8WP5vl+lVqNbK4dKq/qIGOgmLAusvyMO4vFKd4v8IhLESdjjlYAG5Tn0adsR73cIfYRYUpGrG77y2yBG0U80xulwDOtG4qUcaSLPmQcVR+VCvgUTKFl/8djLu/S153dHvC5ORKDHC+hQ/4gq+ceI88vC7OISJMTj/h/GVolHCIYIRgnmyFuvXKVI5Al5wBPWZwkcnzwexpmMfbF5aWFxiPbNQM9EK+qGpIjyPQCOoz/K6sqo5u+6htG7su1hgoEVA2GgbPdaHzFMmgehxyLsANW8iqR2hdWabgMWIS/Lik3IixHvgbsNH5eHTiHCOxnhnh4orS2mWi92D1Myk4LxlCYeJFDbHbU+wPa2K47c8RL3ZrtM88isdZphz6CAX4CS5hKKyJgJllkCz235STvjME/No77/It4Ky0bNz9+Yvq68rKLajXLi110iSIeEvqsdjtqkufk6FEUHR3EPBR6BfFKBpi0tW7KDs5Hkm4yc6hwjrqOdyE6uJDlye7jLklmPWlk9JPsy0TZWi7OnL6hwEzeIQBcB7f0Y+327KA7PqVHE9/c5KDoMzcIU8n56B0J3MariqtE60IbUqlQdIe8gHUDr0eHUspYtZiyZF8kOHsPHVYi28VrY27OMFEy0x7fwJnz4QW4VwUJhxNuhx0AZTShr/wQCDzGkkZXoGu1BwReFuunm6dXk0zmSMQUwz1LPjsPLORE+ns641teE5IB3oZJoRP0hGom1q9V7okCuIEOcCzuWE87KP4eBOFS09wTuTdxHpjSL0jZMyxniewwpfafHxQI9Llhdw70yTrpPmK/Hc2jouQQBR4TyVy+gf1dnkD2LDVcbDqoHKvCAGkf+zhLo9UZ8ev44NdSgpKtKwZRrH+P5BMFjJsHMsIvHwaS0qEvlKSdR2VuE3vG7xFs2uGQkzG3SQGfQIWO7BG62W1Fce9w0cFWpJAGgY/wLU1V0KH+lw/E08dPT1BXp+DYj5eWU8je+xJ2pTig07ZgxzJBSjcVmW0+cbpKarn3fojJ3LCtIvSuZqhpkiGexWvn/MK7phvDGKzjhHuKYHhMcbfuiXwTmDHNoGWjFreuyB+Yby52EeDXGNFTMtDSu9TwgPQguwS4C0cqu/vynZwj7mWajiQ2r8349B44NwWYCN8bg6j8jE4YpAmqtxH8Y+P/Q/6/1uwADACSA3UJOwYxSAAAAAElFTkSuQmCC);
	}

	#headerLeft {
		margin-right: 10px;
		float: left;
		max-width: 580px;
	}
	#headerLeft > h1 {
		margin-top: 0px;
	}
	#headerRight {
		float: right;
	}
	#headerRight > div {
		width: 400px;
		height: 300px;
		border: 0px solid lightgray;
	}
	.clearBoth {
		clear: both;
	}
	</style>
</head>

<body>
	<div style="width: 1000px;">
		<div id="header">
			<!-- Header of the report -->
			<div id="headerLeft">
			</div>
			<div id="headerRight">
				<div>
					<canvas id="myCanvas" style="background-color: white;"></canvas>
				</div>
			</div>
			<div className="clearBoth"></div>
		</div>
		<div id="content">
		</div>
	</div>
	<script type="text/babel">
		//////////////////////////////////// lib //////////////////////////////////////
		var groupBy = function(list, key) {
			return list.reduce(function(accumulator, currentValue) {
				(accumulator[currentValue[key]] = accumulator[currentValue[key]] || []).push(currentValue);
				return accumulator;
			}, {});
		};

		var calcDuration = function(/*Date*/ startTime, /*Date*/ endTime) {
			var durationStr = "";

			// Set the unit values in milliseconds.  
			var msecPerMinute = 1000 * 60;  
			var msecPerHour = msecPerMinute * 60;  
			var msecPerDay = msecPerHour * 24;  
			// Get the difference in milliseconds.  
			var interval = endTime.getTime() - startTime.getTime();  

			// Calculate how many days the interval contains. Subtract that  
			// many days from the interval to determine the remainder.  
			var days = Math.floor(interval / msecPerDay );  
			if(days > 0) durationStr = days + "d "
			interval = interval - (days * msecPerDay );  

			// Calculate the hours, minutes, and seconds.  
			var hours = Math.floor(interval / msecPerHour );  
			if(hours > 0) durationStr = durationStr + hours + "h "
			interval = interval - (hours * msecPerHour );  

			var minutes = Math.floor(interval / msecPerMinute );  
			if(minutes > 0) durationStr = durationStr + minutes + "m "
			interval = interval - (minutes * msecPerMinute );  

			var seconds = Math.floor(interval / 1000 );
			if(seconds > 0) durationStr = durationStr + seconds + "s "

			return durationStr;
		};

		const timeOnlyFormatter = new Intl.DateTimeFormat('en-US', {hour: 'numeric', minute: 'numeric', second: 'numeric', hour12: false});
		const TagContainer = props => props.children;
		//////////////////////////////////// end of lib //////////////////////////////////////

		const detailsRows = [
		{"ID":1,"Level":"INFO","LevelValue":40000,"Message":"TestAppend1: Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.","ThreadName":"ParallelWorker#2","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:38.2117412Z","ScreenshotPath":null,"Browser":"IE","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend1(2)"},
			{"ID":2,"Level":"INFO","LevelValue":40000,"Message":"TestAppend1: Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.","ThreadName":"ParallelWorker#1","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:38.2117412Z","ScreenshotPath":null,"Browser":"IE","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend1(1)"},
			{"ID":3,"Level":"INFO","LevelValue":40000,"Message":"TestAppend1: Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.","ThreadName":"ParallelWorker#4","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:38.2117412Z","ScreenshotPath":null,"Browser":"IE","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend1(3)"},
			{"ID":4,"Level":"INFO","LevelValue":40000,"Message":"TestAppend1: Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.","ThreadName":"ParallelWorker#3","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:38.2117412Z","ScreenshotPath":null,"Browser":"IE","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend1(4)"},
			{"ID":5,"Level":"DEBUG","LevelValue":30000,"Message":"TestAppend1: Debug","ThreadName":"ParallelWorker#2","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:38.6786882Z","ScreenshotPath":"http://opspl.com/wp-content/uploads/2017/01/automation-vs-manual-testing.gif","Browser":"IE","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend1(2)"},
			{"ID":6,"Level":"DEBUG","LevelValue":30000,"Message":"TestAppend1: Debug","ThreadName":"ParallelWorker#1","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:39.5899008Z","ScreenshotPath":"http://opspl.com/wp-content/uploads/2017/01/automation-vs-manual-testing.gif","Browser":"IE","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend1(1)"},
			{"ID":7,"Level":"DEBUG","LevelValue":30000,"Message":"TestAppend1: Debug","ThreadName":"ParallelWorker#4","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:39.7698994Z","ScreenshotPath":"http://opspl.com/wp-content/uploads/2017/01/automation-vs-manual-testing.gif","Browser":"IE","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend1(3)"},
			{"ID":8,"Level":"DEBUG","LevelValue":30000,"Message":"TestAppend1: Debug","ThreadName":"ParallelWorker#3","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:40.0866758Z","ScreenshotPath":"http://opspl.com/wp-content/uploads/2017/01/automation-vs-manual-testing.gif","Browser":"IE","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend1(4)"},
			{"ID":9,"Level":"PASS","LevelValue":55000,"Message":"No Fails!","ThreadName":"ParallelWorker#2","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:40.7480408Z","ScreenshotPath":null,"Browser":"IE","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend1(2)"},
			{"ID":10,"Level":"PASS","LevelValue":55000,"Message":"No Fails!","ThreadName":"ParallelWorker#1","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:41.1270541Z","ScreenshotPath":null,"Browser":"IE","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend1(1)"},
			{"ID":11,"Level":"PASS","LevelValue":55000,"Message":"No Fails!","ThreadName":"ParallelWorker#4","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:41.7622474Z","ScreenshotPath":null,"Browser":"IE","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend1(3)"},
			{"ID":12,"Level":"PASS","LevelValue":55000,"Message":"No Fails!","ThreadName":"ParallelWorker#3","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:42.5403783Z","ScreenshotPath":null,"Browser":"IE","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend1(4)"},
			{"ID":13,"Level":"INFO","LevelValue":40000,"Message":"TestAppend1: Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.","ThreadName":"ParallelWorker#2","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:42.9848336Z","ScreenshotPath":null,"Browser":"IE","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend1(5)"},
			{"ID":14,"Level":"INFO","LevelValue":40000,"Message":"TestAppend1: Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.","ThreadName":"ParallelWorker#1","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:43.0988322Z","ScreenshotPath":null,"Browser":"IE","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend1(6)"},
			{"ID":15,"Level":"INFO","LevelValue":40000,"Message":"TestAppend2: Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.","ThreadName":"ParallelWorker#4","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:43.6045741Z","ScreenshotPath":null,"Browser":"FireFox","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend2"},
			{"ID":16,"Level":"WARN","LevelValue":60000,"Message":"TestAppend3: Warn test","ThreadName":"ParallelWorker#3","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:44.2036445Z","ScreenshotPath":null,"Browser":"Chrome","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend3"},
			{"ID":17,"Level":"DEBUG","LevelValue":30000,"Message":"TestAppend1: Debug","ThreadName":"ParallelWorker#2","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:45.1730337Z","ScreenshotPath":"http://opspl.com/wp-content/uploads/2017/01/automation-vs-manual-testing.gif","Browser":"IE","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend1(5)"},
			{"ID":18,"Level":"DEBUG","LevelValue":30000,"Message":"TestAppend1: Debug","ThreadName":"ParallelWorker#1","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:46.0792519Z","ScreenshotPath":"http://opspl.com/wp-content/uploads/2017/01/automation-vs-manual-testing.gif","Browser":"IE","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend1(6)"},
			{"ID":19,"Level":"FAIL","LevelValue":75000,"Message":"TestAppend2: Fail Skip test","ThreadName":"ParallelWorker#4","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:46.4143842Z","ScreenshotPath":null,"Browser":"FireFox","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend2"},
			{"ID":20,"Level":"DEBUG","LevelValue":30000,"Message":"TestAppend3: Debug","ThreadName":"ParallelWorker#3","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:47.0936321Z","ScreenshotPath":"http://opspl.com/wp-content/uploads/2017/01/automation-vs-manual-testing.gif","Browser":"Chrome","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend3"},
			{"ID":21,"Level":"FAIL","LevelValue":75000,"Message":"test exception","ThreadName":"ParallelWorker#2","StackTrace":"   at DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend1(Int32 index) in c:\\Projects\\R&D\\DynamicLog4netReport\\DynamicLog4netReport.Test\\DynamicAppenderTestFixture.cs:line 31","TimeStampUtc":"2018-05-23T05:10:47.2508532Z","ScreenshotPath":null,"Browser":"IE","Exception":"An exception of type 'System.InvalidOperationException' occurred and was caught.\r\n................................................................................\r\n05/23/2018 00:10:50\r\nType: System.InvalidOperationException, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089\r\nMessage: test exception\r\nSource: DynamicLog4netReport.Test\r\nData: System.Collections.ListDictionaryInternal\r\nTargetSite: Void TestAppend1(Int32)\r\nHResult: -2146233079\r\nStack Trace: \r\n   at DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend1(Int32 index) in c:\\Projects\\R&D\\DynamicLog4netReport\\DynamicLog4netReport.Test\\DynamicAppenderTestFixture.cs:line 31\r\n\r\n\r\nData[ListDictionaryInternal][6]=\r\n[\r\n\t\"MachineName\"[String]=DNK1\r\n\t\"OS Version\"[String]=Microsoft Windows NT 10.0.17134.0\r\n\t\"AssemblyFullName\"[String]=dnkUtils, Version=1.0.0.42065, Culture=neutral, PublicKeyToken=null\r\n\t\"Thread\"[String]=[20]\r\n\t\"WindowsIdentity\"[String]=DNK1\\dnknitro\r\n]\r\n\r\n","FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend1(5)"},
			{"ID":22,"Level":"FAIL","LevelValue":75000,"Message":"test exception","ThreadName":"ParallelWorker#1","StackTrace":"   at DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend1(Int32 index) in c:\\Projects\\R&D\\DynamicLog4netReport\\DynamicLog4netReport.Test\\DynamicAppenderTestFixture.cs:line 31","TimeStampUtc":"2018-05-23T05:10:47.840745Z","ScreenshotPath":null,"Browser":"IE","Exception":"An exception of type 'System.InvalidOperationException' occurred and was caught.\r\n................................................................................\r\n05/23/2018 00:10:50\r\nType: System.InvalidOperationException, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089\r\nMessage: test exception\r\nSource: DynamicLog4netReport.Test\r\nData: System.Collections.ListDictionaryInternal\r\nTargetSite: Void TestAppend1(Int32)\r\nHResult: -2146233079\r\nStack Trace: \r\n   at DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend1(Int32 index) in c:\\Projects\\R&D\\DynamicLog4netReport\\DynamicLog4netReport.Test\\DynamicAppenderTestFixture.cs:line 31\r\n\r\n\r\nData[ListDictionaryInternal][6]=\r\n[\r\n\t\"MachineName\"[String]=DNK1\r\n\t\"OS Version\"[String]=Microsoft Windows NT 10.0.17134.0\r\n\t\"AssemblyFullName\"[String]=dnkUtils, Version=1.0.0.42065, Culture=neutral, PublicKeyToken=null\r\n\t\"Thread\"[String]=[19]\r\n\t\"WindowsIdentity\"[String]=DNK1\\dnknitro\r\n]\r\n\r\n","FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend1(6)"},
			{"ID":23,"Level":"INFO","LevelValue":40000,"Message":"TestAppend4: Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.","ThreadName":"ParallelWorker#4","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:48.7122348Z","ScreenshotPath":null,"Browser":"Chrome","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend4"},
			{"ID":24,"Level":"INFO","LevelValue":40000,"Message":"2147483647 = OFF","ThreadName":"ParallelWorker#3","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:49.5152995Z","ScreenshotPath":null,"Browser":"Chrome","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend3"},
			{"ID":25,"Level":"PASS","LevelValue":55000,"Message":"TestAppend4: Fail Skip test","ThreadName":"ParallelWorker#4","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:51.4029348Z","ScreenshotPath":null,"Browser":"Chrome","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend4"},
			{"ID":26,"Level":"INFO","LevelValue":40000,"Message":"-2147483648 = ALL","ThreadName":"ParallelWorker#3","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:52.3991608Z","ScreenshotPath":null,"Browser":"Chrome","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend3"},
			{"ID":27,"Level":"INFO","LevelValue":40000,"Message":"10000 = VERBOSE","ThreadName":"ParallelWorker#3","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:53.3823509Z","ScreenshotPath":null,"Browser":"Chrome","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend3"},
			{"ID":28,"Level":"INFO","LevelValue":40000,"Message":"20000 = FINER","ThreadName":"ParallelWorker#3","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:53.7856297Z","ScreenshotPath":null,"Browser":"Chrome","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend3"},
			{"ID":29,"Level":"INFO","LevelValue":40000,"Message":"20000 = TRACE","ThreadName":"ParallelWorker#3","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:54.4653032Z","ScreenshotPath":null,"Browser":"Chrome","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend3"},
			{"ID":30,"Level":"INFO","LevelValue":40000,"Message":"30000 = FINE","ThreadName":"ParallelWorker#3","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:55.3460892Z","ScreenshotPath":null,"Browser":"Chrome","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend3"},
			{"ID":31,"Level":"INFO","LevelValue":40000,"Message":"30000 = DEBUG","ThreadName":"ParallelWorker#3","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:56.176832Z","ScreenshotPath":null,"Browser":"Chrome","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend3"},
			{"ID":32,"Level":"INFO","LevelValue":40000,"Message":"40000 = INFO","ThreadName":"ParallelWorker#3","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:56.8895708Z","ScreenshotPath":null,"Browser":"Chrome","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend3"},
			{"ID":33,"Level":"INFO","LevelValue":40000,"Message":"50000 = NOTICE","ThreadName":"ParallelWorker#3","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:57.2889365Z","ScreenshotPath":null,"Browser":"Chrome","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend3"},
			{"ID":34,"Level":"INFO","LevelValue":40000,"Message":"10000 = FINEST","ThreadName":"ParallelWorker#3","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:57.4030151Z","ScreenshotPath":null,"Browser":"Chrome","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend3"},
			{"ID":35,"Level":"INFO","LevelValue":40000,"Message":"70000 = ERROR","ThreadName":"ParallelWorker#3","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:58.1916037Z","ScreenshotPath":null,"Browser":"Chrome","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend3"},
			{"ID":36,"Level":"INFO","LevelValue":40000,"Message":"80000 = SEVERE","ThreadName":"ParallelWorker#3","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:58.2986772Z","ScreenshotPath":null,"Browser":"Chrome","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend3"},
			{"ID":37,"Level":"INFO","LevelValue":40000,"Message":"90000 = CRITICAL","ThreadName":"ParallelWorker#3","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:58.5516766Z","ScreenshotPath":null,"Browser":"Chrome","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend3"},
			{"ID":38,"Level":"INFO","LevelValue":40000,"Message":"100000 = ALERT","ThreadName":"ParallelWorker#3","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:58.7881044Z","ScreenshotPath":null,"Browser":"Chrome","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend3"},
			{"ID":39,"Level":"INFO","LevelValue":40000,"Message":"110000 = FATAL","ThreadName":"ParallelWorker#3","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:59.156211Z","ScreenshotPath":null,"Browser":"Chrome","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend3"},
			{"ID":40,"Level":"INFO","LevelValue":40000,"Message":"120000 = EMERGENCY","ThreadName":"ParallelWorker#3","StackTrace":null,"TimeStampUtc":"2018-05-23T05:10:59.5575047Z","ScreenshotPath":null,"Browser":"Chrome","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend3"},
			{"ID":41,"Level":"INFO","LevelValue":40000,"Message":"120000 = log4net:DEBUG","ThreadName":"ParallelWorker#3","StackTrace":null,"TimeStampUtc":"2018-05-23T05:11:00.0628846Z","ScreenshotPath":null,"Browser":"Chrome","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend3"},
			{"ID":42,"Level":"INFO","LevelValue":40000,"Message":"60000 = WARN","ThreadName":"ParallelWorker#3","StackTrace":null,"TimeStampUtc":"2018-05-23T05:11:00.4649914Z","ScreenshotPath":null,"Browser":"Chrome","Exception":null,"FullTestCaseName":"DynamicLog4netReport.Test.DynamicAppenderTestFixture.TestAppend3"},
			{"EndOfReportData":true} // logger will add data into reportData array during tests execution
		];

		detailsRows.splice(-1,1)

		for (var i = 0; i < detailsRows.length; i++) {
			detailsRows[i].TimeStampUtc = new Date(detailsRows[i].TimeStampUtc);
		}

		//////////////////////////////////// Define Application State //////////////////////////////////////

		class SummaryDataRow {
			constructor(detailsRows) {
				this.detailsRows = detailsRows;
				this.tempBrowser = detailsRows[0].Browser;

				this.level = this.detailsRows
					.reduce((accumulator, currentValue) => currentValue.LevelValue > accumulator.LevelValue ? currentValue : accumulator, this.detailsRows[0])
					.Level;
				this.startTime =  this.detailsRows
					.reduce((accumulator, currentValue) => currentValue.TimeStampUtc < accumulator.TimeStampUtc ? currentValue : accumulator, this.detailsRows[0])
					.TimeStampUtc;
				this.endTime = this.detailsRows
					.reduce((accumulator, currentValue) => currentValue.TimeStampUtc > accumulator.TimeStampUtc ? currentValue : accumulator, this.detailsRows[0])
					.TimeStampUtc;
			};

			get fullTestCaseName() { return this.detailsRows[0].FullTestCaseName; }
		}

		const groupsObject = groupBy(detailsRows, 'FullTestCaseName');

		var summaryRows = Object.keys(groupsObject).map(key => new SummaryDataRow(groupsObject[key]));

		//////////////////////////////////// Application State //////////////////////////////////////

		function expandRowsReducer(state, action) {
			var newState = {expandedRows: []};
			if (typeof state === 'undefined') {
				return newState;
			}

			switch (action.type) {
				case 'TOGGLE_ROW':
					var rowIDindex = state.expandedRows.indexOf(action.rowID);
					if(rowIDindex == -1)
						newState = {expandedRows: [...state.expandedRows, action.rowID]};
					else
						newState = {expandedRows: [...(state.expandedRows.slice(0, rowIDindex)), ...(state.expandedRows.slice(rowIDindex + 1))]};
					break;
				case 'TOGGLE_ALL_ROWS':
					if(state.expandedRows.length > 0)
						newState = {expandedRows: []};
					else
						newState = {expandedRows: summaryRows.map(summaryRow => summaryRow.fullTestCaseName)};
					break;
			}
			return newState;
		}

		const toggleRow = rowID => ({ type: "TOGGLE_ROW", rowID: rowID });
		const toggleAllRows = () => ({ type: "TOGGLE_ALL_ROWS" });

		const mapStateToProps = state => {
			return { expandedRows: state.expandedRows };
		};

		const mapDispatchToProps = dispatch => {
			return {
				toggleRow: rowID => dispatch(toggleRow(rowID)),
				toggleAllRows: () => dispatch(toggleAllRows())
			};
		};

		var store = Redux.createStore(expandRowsReducer);

		//////////////////////////////////// End of Application State //////////////////////////////////////

		//////////////////////////////////// Render Tests Execution Table //////////////////////////////////////

		const SummaryTable = ({summaryRows}) => {
			return (
				<table className='summary'>
					{ summaryRows.map(summaryRow => <ConnectedSummaryRow key={summaryRow.fullTestCaseName} store={store} summaryRow={summaryRow}/>) }
				</table>
			);
		};

		class SummaryRow extends React.Component {
			constructor(props) {
				super(props);
			}

			/*bool*/ isExpanded() {
				return this.props.store.getState().expandedRows.indexOf(this.props.summaryRow.fullTestCaseName) >= 0;
			}

			render() {
				const level = this.props.summaryRow.level;
				let anchorID = 0;
				return (
					<tbody>
						<tr className={`summaryRow ${level.toLowerCase()}`} onClick={() => this.props.toggleRow(this.props.summaryRow.fullTestCaseName)}>
							<td className='summaryStatus'><span>{level}</span></td>
							<td className='summaryTestName'>{/*<a href="#issue21"><b>&dArr;</b></a>&nbsp;*/}{this.props.summaryRow.fullTestCaseName}</td>
							<td className='summaryStart'>{timeOnlyFormatter.format(this.props.summaryRow.startTime)}&nbsp;&nbsp;- </td>
							<td className='summaryEnd'>{timeOnlyFormatter.format(this.props.summaryRow.endTime)}</td>
							<td className='summaryDuration' title={`Duration: ${calcDuration(this.props.summaryRow.startTime, this.props.summaryRow.endTime)}`}><div style={{width: '52px'}}></div><span className='square'></span><span className='square'></span><span className='square'></span><span className='square'></span></td>
						</tr>
						{ this.isExpanded() && (
							<tr className={`summaryDetailsRow ${level.toLowerCase()}`}>
								<td>&nbsp;</td>
								<td colSpan="4">
									<table className='details'>
										<tbody>
											{
												this.props.summaryRow.detailsRows.map(detailsRow => {
													if(anchorID == 0 && detailsRow.LevelValue >= 60000) {
														anchorID = detailsRow.ID;
													}
													return (
														<DetailsRow key={detailsRow.ID} detailsRow={detailsRow} anchorID={anchorID}/>
													);
												})
											}
										</tbody>
									</table>
								</td>
							</tr>
						) }
					</tbody>
				)
			}
		}

		const DetailsRow = ({detailsRow, anchorID}) => {
			return (
				<TagContainer>
					<tr className={`detailsRow ${detailsRow.Level.toLowerCase()}`}>
						<td className='timeCol' title={`[${detailsRow.ThreadName}]`}>{timeOnlyFormatter.format(detailsRow.TimeStampUtc)}</td>
						<td className='statusCol'><span>{detailsRow.Level}</span></td>
						<td className='messageCol'>
							{anchorID > 0 && <a name={`issue${anchorID}`}></a>}
							{detailsRow.ScreenshotPath != null && (
								<span><a className='screenshot' target='_blank' href={detailsRow.ScreenshotPath}><span className='screenshotIcon' title='Open Screenshot'></span></a>&nbsp;</span>
							)}
							{detailsRow.Message}
						</td>
					</tr>
					{detailsRow.Exception != null && 
					<tr className='detailsExceptionRow'>
						<td className='exceptionCol' colSpan='3'>
							<div>{detailsRow.Exception}</div>
						</td>
					</tr>
					}
				</TagContainer>
			);
		};

		const ConnectedSummaryRow = ReactRedux.connect(mapStateToProps, mapDispatchToProps)(SummaryRow);

		ReactDOM.render(
			<SummaryTable store={store} summaryRows={summaryRows}/>,
			document.getElementById('content')
		);

		//////////////////////////////////// Render Header //////////////////////////////////////

		var reportMetaData = {};
		var reportMetaData = {"ReportName":"My Test Execution Report","ReportEnvironment":"PROD","ReportCategory":"Unusual"};

		var startTime = summaryRows
			.reduce((accumulator, currentValue) => currentValue.startTime < accumulator.startTime ? currentValue : accumulator, summaryRows[0])
			.startTime;
		var endTime = summaryRows
			.reduce((accumulator, currentValue) => currentValue.endTime > accumulator.endTime ? currentValue : accumulator, summaryRows[0])
			.endTime;

		var levelBrowserUnique = {};
		summaryRows.map(item => {
			const key = item.level + ' ' + item.tempBrowser;
			if(levelBrowserUnique[key]) levelBrowserUnique[key].Count = levelBrowserUnique[key].Count + 1;
			else levelBrowserUnique[key] = {Count: 1, Level: item.level, Browser: item.tempBrowser};
		});

		const PageSummary = ({reportMetaData}) => {
			return (
				<div>
					<h1 id="reportTitle">{reportMetaData.ReportName}</h1>
					<h4 id="environmentInfo"><label>Environment:</label> <span id="environment">{reportMetaData.ReportEnvironment}</span></h4>
					<h4 id="testCategory"><label>Category:</label> <span id="category">{reportMetaData.ReportCategory}</span></h4>
					<h4 id="timeInfo"><label>Start:</label> <span id="startTime">{timeOnlyFormatter.format(startTime)}</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<label>End:</label> <span id="endTime">{timeOnlyFormatter.format(endTime)}</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<label>Duration:</label> <span id="duration">{calcDuration(startTime, endTime)}</span></h4>

					<LevelsBrowsers levelBrowser={levelBrowserUnique}/>
					<div>
						<ConnectedExpandCollapseAll store={store}/>&nbsp;&nbsp;
						{/*<StepLevels detailsRows={detailsRows}/>*/}
					</div>
				</div>
			);
		};

		const LevelsBrowsers = ({levelBrowser}) => {
			return (
				<h4 id="passFailInfo">
					{
						Object.keys(levelBrowser).map((key, index) => {
							let level = levelBrowser[key].Level.toLowerCase();
							level = level.charAt(0).toUpperCase() + level.substr(1);
							const count = levelBrowser[key].Count;
							return (
								<div key={key} style={{float: 'left', marginRight: '20px'}}>
									<label className={`status${level}`}>{key}:</label> <span className={`status${level}`}>{count}</span>
								</div>
							);
						})
					}
					<div className="clearBoth"></div>
				</h4>
			);			
		};

		const StepLevels = ({detailsRows}) => {
			return (
				<span>
					[<span id="stepNames">
						{
							Object.keys(groupBy(detailsRows, 'Level')).map(key => {
								return (
									<a key={key} href="javascript:void(0)" style={{marginLeft: '5px', marginRight: '5px'}} className={`status${key.toLowerCase()}`}>{key}</a>
								);
							})
						}
					</span>]
				</span>
			);			
		};

		class ExpandCollapseAll extends React.Component {
			constructor(props) {
				super(props);
			}

			render() {
				return (
					<span>
						[ <a id="expandCollapseAll" href="javascript:void(0)" onClick={() => this.props.toggleAllRows()}>
						{this.props.store.getState().expandedRows.length > 0 ? 'Collapse' : 'Expand'} All Rows</a> ]
					</span>
				)
			}
		};

		const ConnectedExpandCollapseAll = ReactRedux.connect(mapStateToProps, mapDispatchToProps)(ExpandCollapseAll);

		ReactDOM.render(
			<PageSummary reportMetaData={reportMetaData}/>,
			document.getElementById('headerLeft')
		);
	</script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.3.0/Chart.min.js"></script>
	<script type="text/babel">
		//////////////////////////////////// Pie Charts //////////////////////////////////////
		var levelGroupped = groupBy(summaryRows, 'level');

		const levelCounts = [];
		const levelBgColors = [];
		const levelBorderColors = [];
		const levelHoverBorderColor = [];
		const levelLabels = [];
		Object.keys(levelGroupped).map(key => {
			levelCounts.push(levelGroupped[key].length);
			levelBgColors.push(levelToColor[key.toLowerCase()]);
			levelBorderColors.push('white');
			levelHoverBorderColor.push('white');
			levelLabels.push(key);
		});

		var data = {
			datasets: [{
				data: levelCounts,
				backgroundColor: levelBgColors,
				borderColor: levelBorderColors,
				hoverBorderColor: levelHoverBorderColor,
				label: 'Tests' // for legend
			}],
			labels: levelLabels
		};
		var canvas = document.getElementById("myCanvas");
		var ctx = canvas.getContext("2d");
		$(function () {
			new Chart(ctx, {
				data: data,
				type: "pie",
				options: {
					maintainAspectRatio: false,
					/*
					LOOK INTO http://jsfiddle.net/5gyfykka/
					tooltipTemplate: "<%= value %>",
					onAnimationComplete: function () {
						this.showTooltip(this.segments, true);
					},
					tooltipEvents: [],*/
					showTooltips: true,
					elements: {
						arc: {
							borderColor: "#000000"
						}
					}
				}
			});
		});
	</script>
</body>
</html>